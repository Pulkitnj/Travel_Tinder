import { GoogleGenerativeAI } from "@google/generative-ai";

  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
  export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location: Las Vegas, for 3 Days for Couple with a Cheap budget ,Give me a Hotels options list with HotelName, Hotel address, Price, hotel image url, geo coordinates, rating, descriptions and suggest itinerary with placeName, Place Details, Place Image Url, Geo Coordinates, ticket Pricing, rating, Time travel each of the location for 3 days with each day plan with best time to visitin JSON format.\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "```json\n{\n  \"hotels\": [\n    {\n      \"name\": \"The D Las Vegas\",\n      \"address\": \"301 Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$$\",\n      \"imageUrl\": \"https://images.trvl-media.com/hotels/1000000/100000/10000/1000/719583.jpg\",\n      \"geoCoordinates\": [36.1699, -115.1421],\n      \"rating\": 4.0,\n      \"description\": \"A downtown Las Vegas hotel with a retro vibe, offering affordable rooms, a casino, and live entertainment.\"\n    },\n    {\n      \"name\": \"The Golden Nugget\",\n      \"address\": \"129 E Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$$$\",\n      \"imageUrl\": \"https://images.trvl-media.com/hotels/1000000/100000/10000/1000/519606.jpg\",\n      \"geoCoordinates\": [36.1691, -115.1423],\n      \"rating\": 4.5,\n      \"description\": \"A historic downtown hotel with a luxurious feel, featuring a casino, pools, and a shark tank.\"\n    },\n    {\n      \"name\": \"Circus Circus Hotel & Casino\",\n      \"address\": \"2880 Las Vegas Blvd S, Las Vegas, NV 89109\",\n      \"price\": \"$$\",\n      \"imageUrl\": \"https://images.trvl-media.com/hotels/1000000/100000/10000/1000/674716.jpg\",\n      \"geoCoordinates\": [36.1195, -115.1704],\n      \"rating\": 3.5,\n      \"description\": \"A family-friendly hotel with a circus theme, offering budget-friendly rooms, a large casino, and amusement rides.\"\n    },\n    {\n      \"name\": \"The Strat Hotel, Casino & Skypod\",\n      \"address\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price\": \"$$$\",\n      \"imageUrl\": \"https://images.trvl-media.com/hotels/1000000/100000/10000/1000/528753.jpg\",\n      \"geoCoordinates\": [36.1089, -115.1687],\n      \"rating\": 4.0,\n      \"description\": \"A hotel with a tower offering panoramic views of the city, a casino, restaurants, and entertainment.\"\n    }\n  ],\n  \"itinerary\": [\n    {\n      \"day\": 1,\n      \"title\": \"Downtown Las Vegas Experience\",\n      \"plan\": [\n        {\n          \"time\": \"10:00 AM\",\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"A pedestrian mall with a giant video screen, live music, and street performers.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/0/0a/Fremont_Street_Experience_%282009%29.jpg/1280px-Fremont_Street_Experience_%282009%29.jpg\",\n          \"geoCoordinates\": [36.1699, -115.1421],\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"timeToSpend\": \"2 hours\"\n        },\n        {\n          \"time\": \"12:00 PM\",\n          \"placeName\": \"Heart Attack Grill\",\n          \"placeDetails\": \"A themed restaurant known for its greasy burgers and \"quadruple bypass\" challenge.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/9/92/Heart_Attack_Grill_Las_Vegas.jpg/1280px-Heart_Attack_Grill_Las_Vegas.jpg\",\n          \"geoCoordinates\": [36.1693, -115.1416],\n          \"ticketPricing\": \"$$\",\n          \"rating\": 3.5,\n          \"timeToSpend\": \"1.5 hours\"\n        },\n        {\n          \"time\": \"02:00 PM\",\n          \"placeName\": \"Pinball Hall of Fame\",\n          \"placeDetails\": \"A museum dedicated to pinball machines, with over 200 playable games.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4a/Pinball_Hall_of_Fame_Las_Vegas_Sign.JPG/1280px-Pinball_Hall_of_Fame_Las_Vegas_Sign.JPG\",\n          \"geoCoordinates\": [36.1726, -115.1415],\n          \"ticketPricing\": \"$\",\n          \"rating\": 4.0,\n          \"timeToSpend\": \"2 hours\"\n        },\n        {\n          \"time\": \"04:00 PM\",\n          \"placeName\": \"Golden Nugget Casino\",\n          \"placeDetails\": \"A historic casino with a shark tank and live entertainment.\",\n          \"placeImageUrl\": \"https://www.golden nugget.com/las-vegas/casino-hotel/images/golden-nugget-exterior.jpg\",\n          \"geoCoordinates\": [36.1691, -115.1423],\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"timeToSpend\": \"2 hours\"\n        }\n      ]\n    },\n    {\n      \"day\": 2,\n      \"title\": \"Strip Exploration\",\n      \"plan\": [\n        {\n          \"time\": \"10:00 AM\",\n          \"placeName\": \"Bellagio Fountains\",\n          \"placeDetails\": \"A world-famous water and light show held in front of the Bellagio Hotel.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/2/28/Bellagio_fountains_2007.jpg/1280px-Bellagio_fountains_2007.jpg\",\n          \"geoCoordinates\": [36.1122, -115.1726],\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"timeToSpend\": \"1 hour\"\n        },\n        {\n          \"time\": \"11:00 AM\",\n          \"placeName\": \"The Venetian and The Palazzo\",\n          \"placeDetails\": \"Luxurious hotels with a Venetian theme, featuring canals, gondolas, and shopping.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c1/Venetian_Resort_Hotel_Casino_%28Las_Vegas%29.jpg/1280px-Venetian_Resort_Hotel_Casino_%28Las_Vegas%29.jpg\",\n          \"geoCoordinates\": [36.1127, -115.1743],\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.0,\n          \"timeToSpend\": \"2 hours\"\n        },\n        {\n          \"time\": \"01:00 PM\",\n          \"placeName\": \"The LINQ Promenade\",\n          \"placeDetails\": \"An outdoor shopping and dining area with a high roller observation wheel.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3c/LINQ_Promenade_Las_Vegas_%282014%29.jpg/1280px-LINQ_Promenade_Las_Vegas_%282014%29.jpg\",\n          \"geoCoordinates\": [36.1144, -115.1708],\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.0,\n          \"timeToSpend\": \"2 hours\"\n        },\n        {\n          \"time\": \"03:00 PM\",\n          \"placeName\": \"Caesars Palace\",\n          \"placeDetails\": \"A luxurious hotel and casino with a Roman theme, featuring a forum, shops, and restaurants.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d1/Caesars_Palace_Las_Vegas.jpg/1280px-Caesars_Palace_Las_Vegas.jpg\",\n          \"geoCoordinates\": [36.1144, -115.1736],\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"timeToSpend\": \"1 hour\"\n        }\n      ]\n    },\n    {\n      \"day\": 3,\n      \"title\": \"Nature and Entertainment\",\n      \"plan\": [\n        {\n          \"time\": \"10:00 AM\",\n          \"placeName\": \"Red Rock Canyon National Conservation Area\",\n          \"placeDetails\": \"A scenic desert park with hiking trails, rock formations, and stunning views.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/9/99/Red_Rock_Canyon_National_Conservation_Area_Las_Vegas_Nevada_USA_DSC09311.jpg/1280px-Red_Rock_Canyon_National_Conservation_Area_Las_Vegas_Nevada_USA_DSC09311.jpg\",\n          \"geoCoordinates\": [36.1203, -115.2603],\n          \"ticketPricing\": \"$\",\n          \"rating\": 4.5,\n          \"timeToSpend\": \"3 hours\"\n        },\n        {\n          \"time\": \"01:00 PM\",\n          \"placeName\": \"High Roller Observation Wheel\",\n          \"placeDetails\": \"A giant observation wheel offering panoramic views of Las Vegas.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/2/20/High_Roller_Las_Vegas_2014.jpg/1280px-High_Roller_Las_Vegas_2014.jpg\",\n          \"geoCoordinates\": [36.1144, -115.1708],\n          \"ticketPricing\": \"$$$\",\n          \"rating\": 4.0,\n          \"timeToSpend\": \"1 hour\"\n        },\n        {\n          \"time\": \"02:30 PM\",\n          \"placeName\": \"The Mirage Volcano\",\n          \"placeDetails\": \"A nightly show featuring fire, water, and music in front of the Mirage Hotel.\",\n          \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/c/cf/Mirage_Volcano_Las_Vegas.jpg/1280px-Mirage_Volcano_Las_Vegas.jpg\",\n          \"geoCoordinates\": [36.1173, -115.1726],\n          \"ticketPricing\": \"Free\",\n          \"rating\": 4.0,\n          \"timeToSpend\": \"30 minutes\"\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Explanation:**\n\n* **Hotels:** This section provides a list of budget-friendly hotels in Las Vegas with details like name, address, price range, image URL, geo-coordinates, rating, and description.\n* **Itinerary:** This section outlines a 3-day travel plan for a couple, dividing each day into different activities with timings.\n* **Day Plans:** Each day's plan includes a list of places to visit, with details like time, name, description, image URL, geo-coordinates, ticket pricing, rating, and estimated time to spend.\n\n**Notes:**\n\n* Prices are denoted using \"$\" symbols, with \"$$\" representing moderate prices and \"$$$\" representing higher prices.\n* You can adjust the itinerary based on your interests and preferences.\n* Consider using public transportation or ride-sharing services to get around Las Vegas to save money.\n* Check official websites and social media pages for the latest information on pricing, hours of operation, and events.\n\nThis itinerary focuses on free and low-cost attractions and activities, making it suitable for couples on a budget. \n"},
          ],
        },
      ],
    });